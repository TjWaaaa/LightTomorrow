{
    "detectorModelDefinition": {
        "states": [
            {
                "stateName": "LightOff",
                "onInput": {
                    "events": [
                        {
                            "eventName": "setLightLevel",
                            "condition": "$input.lightSensorInput.lightLevel != $variable.lightLevel",
                            "actions": [
                                {
                                    "setVariable": {
                                        "variableName": "lightLevel",
                                        "value": "$input.lightSensorInput.lightLevel"
                                    }
                                }
                            ]
                        },
                        {
                            "eventName": "setProximity",
                            "condition": "$input.proximitySensorInput.proximity != $variable.proximity",
                            "actions": [
                                {
                                    "setVariable": {
                                        "variableName": "proximity",
                                        "value": "$input.proximitySensorInput.proximity"
                                    }
                                }
                            ]
                        }
                    ],
                    "transitionEvents": [
                        {
                            "eventName": "Out",
                            "condition": "$variable.lightLevel < 400 && $variable.proximity >= 100",
                            "actions": [],
                            "nextState": "LightOn"
                        }
                    ]
                },
                "onEnter": {
                    "events": [
                        {
                            "eventName": "TurnOffLight",
                            "condition": "true",
                            "actions": [
                                {
                                    "iotTopicPublish": {
                                        "mqttTopic": "topic/actuator/light"
                                    }
                                }
                            ]
                        }
                    ]
                },
                "onExit": {
                    "events": []
                }
            },
            {
                "stateName": "LightOn",
                "onInput": {
                    "events": [
                        {
                            "eventName": "setLightLevel",
                            "condition": "$input.lightSensorInput.lightLevel != $variable.lightLevel",
                            "actions": [
                                {
                                    "setVariable": {
                                        "variableName": "lightLevel",
                                        "value": "$input.lightSensorInput.lightLevel"
                                    }
                                }
                            ]
                        },
                        {
                            "eventName": "setProximity",
                            "condition": "$input.proximitySensorInput.proximity != $variable.proximity",
                            "actions": [
                                {
                                    "setVariable": {
                                        "variableName": "proximity",
                                        "value": "$input.proximitySensorInput.proximity"
                                    }
                                }
                            ]
                        }
                    ],
                    "transitionEvents": [
                        {
                            "eventName": "In",
                            "condition": "$variable.lightLevel >= 400 || $variable.proximity < 100",
                            "actions": [],
                            "nextState": "LightOff"
                        }
                    ]
                },
                "onEnter": {
                    "events": [
                        {
                            "eventName": "TurnOnLight",
                            "condition": "true",
                            "actions": [
                                {
                                    "iotTopicPublish": {
                                        "mqttTopic": "topic/actuator/light"
                                    }
                                }
                            ]
                        }
                    ]
                },
                "onExit": {
                    "events": []
                }
            }
        ],
        "initialStateName": "LightOff"
    },
    "detectorModelDescription": null,
    "detectorModelName": "LightActuator",
    "evaluationMethod": "SERIAL",
    "key": "detectorModelKey",
    "roleArn": "arn:aws:iam::689988310164:role/service-role/TestRole"
}